<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-89982543-2"></script>
    <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'UA-89982543-2');
    </script>
    <meta charset="UTF-8">
    <title>Threads of Martial Destiny</title>
    <link rel="icon" type="image/png" href="imgs/sword.svg" sizes="32x32" />
    <script type="text/javascript" src="js/martial-destiny.js"></script>
</head>
<body>
</body>
<div id="main"></div>
<script type="text/javascript">
    var node = document.getElementById('main');

    var storedState = localStorage.getItem('martial-destiny-state');
    var startingState = storedState ? JSON.parse(storedState) : null;
    // This try block will catch a problem with the local storage.
    try {
        var app = Elm.Main.embed(node, startingState);
    }
    catch (e) {
        var app = Elm.Main.embed(node, null);
    }

    app.ports.saveState.subscribe(function(state) {
        localStorage.setItem('martial-destiny-state', JSON.stringify(state));
    });
</script>
</html>
